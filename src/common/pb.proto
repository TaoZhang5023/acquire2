syntax = "proto3";

enum ErrorCode {
  NOT_USING_LATEST_VERSION = 0;
  INTERNAL_SERVER_ERROR = 1;
  INVALID_MESSAGE_FORMAT = 2;
  INVALID_USERNAME = 3;
  MISSING_PASSWORD = 4;
  PROVIDED_PASSWORD = 5;
  INCORRECT_PASSWORD = 6;
  INVALID_MESSAGE = 7;
  COULD_NOT_CONNECT = 8;
}

enum GameBoardType {
  LUXOR = 0;
  TOWER = 1;
  AMERICAN = 2;
  FESTIVAL = 3;
  WORLDWIDE = 4;
  CONTINENTAL = 5;
  IMPERIAL = 6;
  NOTHING = 7;
  NOTHING_YET = 8;
  CANT_PLAY_EVER = 9;
  I_HAVE_THIS = 10;
  WILL_PUT_LONELY_TILE_DOWN = 11;
  HAVE_NEIGHBORING_TILE_TOO = 12;
  WILL_FORM_NEW_CHAIN = 13;
  WILL_MERGE_CHAINS = 14;
  CANT_PLAY_NOW = 15;
  MAX = 16;
}

enum GameMode {
  SINGLES_1 = 1;
  SINGLES_2 = 2;
  SINGLES_3 = 3;
  SINGLES_4 = 4;
  SINGLES_5 = 5;
  SINGLES_6 = 6;
  TEAMS_2_VS_2 = 7;
  TEAMS_2_VS_2_VS_2 = 8;
  TEAMS_3_VS_3 = 9;
}

enum PlayerArrangementMode {
  VERSION_1 = 0;
  RANDOM_ORDER = 1;
  EXACT_ORDER = 2;
  SPECIFY_TEAMS = 3;
}

message GameAction {
  message StartGame {}

  message PlayTile { int32 tile = 1; }

  message SelectNewChain { GameBoardType chain = 1; }

  message SelectMergerSurvivor { GameBoardType chain = 1; }

  message SelectChainToDisposeOfNext { GameBoardType chain = 1; }

  message DisposeOfShares {
    int32 trade_amount = 1;
    int32 sell_amount = 2;
  }

  message PurchaseShares {
    repeated GameBoardType chains = 1;
    bool end_game = 2;
  }

  message GameOver {}

  StartGame start_game = 1;
  PlayTile play_tile = 2;
  SelectNewChain select_new_chain = 3;
  SelectMergerSurvivor select_merger_survivor = 4;
  SelectChainToDisposeOfNext select_chain_to_dispose_of_next = 5;
  DisposeOfShares dispose_of_shares = 6;
  PurchaseShares purchase_shares = 7;
  GameOver game_over = 8;
}
